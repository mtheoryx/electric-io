013d30defb99814675c4d001a1e85ea3
'use strict';

var device = require('./simulatedDevice');
var devices = require('./simulatedDeviceList');
var deviceList = devices.list;
var telemetry = devices.telemetry;

function Simulator(receiver) {
  this.receiver = receiver;
  this.sims = [];
};

Simulator.prototype.start = function () {
  var _this = this;

  deviceList.forEach(function (d) {
    var sim = new device(_this.receiver, d.deviceId, telemetry[d.deviceId]);
    _this.sims.push(sim);
    sim.start();
  });
};

Simulator.prototype.stop = function () {
  this.sims.forEach(function (sim) {
    return sim.stop();
  });
};

module.exports = Simulator;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJ1blNpbXVsYXRvci5qcyJdLCJuYW1lcyI6WyJkZXZpY2UiLCJyZXF1aXJlIiwiZGV2aWNlcyIsImRldmljZUxpc3QiLCJsaXN0IiwidGVsZW1ldHJ5IiwiU2ltdWxhdG9yIiwicmVjZWl2ZXIiLCJzaW1zIiwicHJvdG90eXBlIiwic3RhcnQiLCJmb3JFYWNoIiwiZCIsInNpbSIsImRldmljZUlkIiwicHVzaCIsInN0b3AiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLFNBQVNDLFFBQVEsbUJBQVIsQ0FBZjtBQUNBLElBQU1DLFVBQVdELFFBQVEsdUJBQVIsQ0FBakI7QUFDQSxJQUFNRSxhQUFhRCxRQUFRRSxJQUEzQjtBQUNBLElBQU1DLFlBQVlILFFBQVFHLFNBQTFCOztBQUVBLFNBQVNDLFNBQVQsQ0FBbUJDLFFBQW5CLEVBQTZCO0FBQzNCLE9BQUtBLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsT0FBS0MsSUFBTCxHQUFZLEVBQVo7QUFDRDs7QUFFREYsVUFBVUcsU0FBVixDQUFvQkMsS0FBcEIsR0FBNEIsWUFBVztBQUFBOztBQUNyQ1AsYUFBV1EsT0FBWCxDQUFtQixVQUFDQyxDQUFELEVBQU87QUFDeEIsUUFBTUMsTUFBTSxJQUFJYixNQUFKLENBQVcsTUFBS08sUUFBaEIsRUFBMEJLLEVBQUVFLFFBQTVCLEVBQXNDVCxVQUFVTyxFQUFFRSxRQUFaLENBQXRDLENBQVo7QUFDQSxVQUFLTixJQUFMLENBQVVPLElBQVYsQ0FBZUYsR0FBZjtBQUNBQSxRQUFJSCxLQUFKO0FBQ0QsR0FKRDtBQUtELENBTkQ7O0FBUUFKLFVBQVVHLFNBQVYsQ0FBb0JPLElBQXBCLEdBQTJCLFlBQVc7QUFDcEMsT0FBS1IsSUFBTCxDQUFVRyxPQUFWLENBQWtCLFVBQUNFLEdBQUQ7QUFBQSxXQUFTQSxJQUFJRyxJQUFKLEVBQVQ7QUFBQSxHQUFsQjtBQUNELENBRkQ7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUJaLFNBQWpCIiwiZmlsZSI6InJ1blNpbXVsYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRldmljZSA9IHJlcXVpcmUoJy4vc2ltdWxhdGVkRGV2aWNlJyk7XG5jb25zdCBkZXZpY2VzID0gIHJlcXVpcmUoJy4vc2ltdWxhdGVkRGV2aWNlTGlzdCcpO1xuY29uc3QgZGV2aWNlTGlzdCA9IGRldmljZXMubGlzdDtcbmNvbnN0IHRlbGVtZXRyeSA9IGRldmljZXMudGVsZW1ldHJ5OyBcblxuZnVuY3Rpb24gU2ltdWxhdG9yKHJlY2VpdmVyKSB7XG4gIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgdGhpcy5zaW1zID0gW107XG59O1xuXG5TaW11bGF0b3IucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIGRldmljZUxpc3QuZm9yRWFjaCgoZCkgPT4ge1xuICAgIGNvbnN0IHNpbSA9IG5ldyBkZXZpY2UodGhpcy5yZWNlaXZlciwgZC5kZXZpY2VJZCwgdGVsZW1ldHJ5W2QuZGV2aWNlSWRdKTtcbiAgICB0aGlzLnNpbXMucHVzaChzaW0pO1xuICAgIHNpbS5zdGFydCgpO1xuICB9KTtcbn1cblxuU2ltdWxhdG9yLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc2ltcy5mb3JFYWNoKChzaW0pID0+IHNpbS5zdG9wKCkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTaW11bGF0b3I7XG4iXX0=